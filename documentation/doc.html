
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<title>Projekt IIS</title>
<style type="text/css">
	table { border-collapse: collapse; }
	td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
	dt { font-weight: bold; margin-top: 0.5em; }
</style>
</head>
<body>

<!-- Zkontrolujte prosím nastavení kódování v hlavičce dokumentu 
 podle použitého editoru -->

<h1>Studentské turnaje</h1> <!-- Nahradte názvem svého zadání -->

<dl>
<dt>Autoři</dt>
<dd>Michaela Macková <!-- Nahraďte skutečným jménem a e-mailem autora a popisem činnosti -->
	<a href="mailto:xmacko13@stud.fit.vutbr.cz">xmacko13@stud.fit.vutbr.cz</a> -
	vytvoření entit, správa turnajů, registrace do turnajů, testovací data, testování
</dd>
<dd>Ivan Mudrák <!-- Nahraďte skutečným jménem a e-mailem autora a popisem činnosti -->
	<a href="mailto:xautor02@stud.fit.vutbr.cz">xmudra03@stud.fit.vutbr.cz</a> - 
	založení projektu a základní struktura, JS, generování zápasů, autentifikace uživatele, design stránek
</dd>
<dd>Tomáš Zaviačič <!-- Nahraďte skutečným jménem a e-mailem autora a popisem činnosti -->
	<a href="mailto:xzavia00@stud.fit.vutbr.cz">xzavia00@stud.fit.vutbr.cz</a> - 
	kontrola validity formulářů, kontrola unikátnosti dat, statistiky, deaktivace týmů a účtů, komentované video
</dd>
<dt>URL aplikace</dt>
<dd><a href="https://www.stud.fit.vutbr.cz/~xmudra03/IIS/public/index.php">https://www.stud.fit.vutbr.cz/~xmudra03/IIS/public/index.php</a></dd>
</dl>

<h2>Uživatelé systému pro testování</h2>
<p>Uveďte prosím existující zástupce <strong>všech rolí uživatelů</strong>.</p>
<table>
<tr><th>Email</th><th>Heslo</th><th>Role</th><th>Upřesnění</th></tr>
<tr><td>admin@admin.com</td><td>admin</td><td>Administrátor</td><td></td></tr>
<tr><td></td><td></td><td>Registovaný uživatel</td><td></td></tr>
<tr><td>-</td><td>-</td><td>Neregistrovaný uživatel</td><td></td></tr>
</table>

<p>(Diagram případů užití není nutné vkládat, pokud IS implementuje role a případy užití definované zadáním.)</p> 

<h3>Video</h3>

<a href="https://drive.google.com/file/d/1hCrM4-xojfBnlBW85mVXQ4S_dlY3Y-pO/view?usp=share_link">https://drive.google.com/file/d/1hCrM4-xojfBnlBW85mVXQ4S_dlY3Y-pO/view?usp=share_link</a>
<p>Video je přístupné všem uživatelům VUT Brno.</p>

<h2>Rozšíření</h2>
<ul>
	<li>Určení podmínky vítěze zápasu/turnaje</li>
	- Min/Max počet bodů, Min/Max doba trvání
	<li>Rozřazovací systém</li>
	- Všichni proti všem a pavouk
	<li>Ověření e-mailu</li>
	- V projektu kvůli testování není kontrolováno (pouze nastaví příznak v DB)
	<li>Asynchronní načítání dat v tabulkách</li>
	- Asynchronní vyhledávání a seřazování dat (pouze v tabulkách kde se očekává větší počet dat)
	<li>Asynchronní načítání uživatelů při přidávání členů do týmu</li>
</ul>


<h2>Implementace</h2>

<ul>
	<li><b>Administrátor:</b>
		<ul>
			<li>Spravuje uživatele</li> - UserController a funkce v souboru UserManager + UserRespository
			<li>Schvaluje turnaje</li> - TournamentController a funkce v souboru TournamentManager + TournamentRespository
			<li>Vytváří a edituje typy turnajů</li> - TournamentController a funkce v souboru TournamentManager + TournamentRespository
			<li>Spravuje role uživatelů</li> - UserController a funkce v souboru UserManager + UserRespository
			<li>Edituje a deaktivuje uživatele</li> - UserController a funkce v souboru UserManager + UserRespository
			<li>Edituje a deaktivuje týmy</li> - TeamController a funkce v souboru TeamManager + TeamRepository
			<li>Edituje a odstraňuje turnamenty</li> -TournamentController a funkce v souboru TournamentManager + TournamentRespository
		</ul>
	</li>
	<br/>
	<li><b>Registrovaný uživatel:</b>
		<ul>
			<li>Edituje svůj profil</li> - UserController a funkce v souboru UserManager + UserRespository
			<li>Zakládá týmy - stává se <b>správcem týmu</b> (může editovat a deaktivovat tým)</li> - TeamController a funkce v souboru TeamManager + TeamRespository
				<ul>
					<li>přidává uživatele do týmu, kteří stávají se <b>členy týmu</b></li> - TeamController a funkce v souboru TeamManager + TeamRespository
					<li>registruje svůj tým na turnaj</li> - TournamentController a funkce v souboru TournamentManager + TournamentRespository
				</ul>
			<li>zakládá turnaj - stává se <b>správcem turnaje</b> (může editovat a mazat turnaj)</li> - TournamentController a funkce v souboru TournamentManager + TournamentRespository
				<ul>
					<li>zadává parametry turnaje</li> - TournamentController a funkce v souboru TournamentManager + TournamentRespository
					<li>schvaluje hráče turnaje (jednotlivce/týmy dle typu turnaje)</li> - TournamentController a funkce v souboru TournamentManager + TournamentRespository
					<li>spouští turnaj, generuje harmonogram turnaje (ručně nebo automaticky - rozlosování)</li> - TournamentController a funkce v souboru MatchManager + MatchGenerator + TournamentMatchRespository
					<li>zadává výsledky zápasů (výsledek zápasu se uvažuje jako dvojice (počet bodů týmu/hráče 1, počet bodů týmu/hráče 2))</li> - MatchController a funkce v souboru MatchManager + TournamentMatchRespository
				</ul>
			<li>účastní se turnaje (registruje se jako jednotlivec nebo je členem registrovaného týmu) - stává se <b>hráčem turnaje</b></li> - TournamentController a funkce v souboru TournamentManager + TournamentRespository
				<ul>
					<li>vidí svůj program (harmonogram zápasů)</li>  - MatchController a funkce v souboru MatchManager + TournamentMatchRespository
					<li>přednostně vidí výsledky svých zápasů</li>  - MatchController a funkce v souboru MatchManager + TournamentMatchRespository
				</ul>
		</ul>
	</li>
	<br/>
	<li><b>Neregistrovaný uživatel:</b>
		<ul>
			<li>prochází profily a statistiky hráčů, týmů a turnajů s výsledky</li>  - UserController, TeamController, TournamentController, MatchController + jejich soubory Manager a Repository
		</ul>
	</li>
</ul>

<p>Stručná dokumentace k implementaci, která popisuje, které části projektu (např. PHP skripty) implementují jednotlivé případy použití.</p>

<h3>Databáze</h3>

Zde vložte grafické schéma relační databáze (tabulek v databázi).
<br>
<img src="erd.svg" alt="ERD" height="600">

<h2>Instalace</h2>

Stručně popište: 
<ul>
	<li>softwarové požadavky:</li>
	<ul>
		<li>PHP 8.1</li>
		<li>MySQL</li>
		<li>composer - doinstaluje potřebné php balíčky (hlavně Symfony 6.1.7)</li>
		<li>npm - doinstaluje a zkontroluje JS a CSS balíčky</li>
	</ul>
	<li>na serveru je nutné přetáhnout soubory projektu a provést následující příkazy (v hlavním Symfony adresáři)</li>
	<ol>
		<li><code>composer install</code></li>
		<li><code>npm install</code></li>
		<li><code>npm run dev</code> - zobrazí 13 chyb způsobených automatických doplňováním (na použitou funkcionalitu nemá vliv)</li>
		<li><code>php bin/console doctrine:database:create</code></li>
		<li><code>php bin/console make:migration</code></li>
		<li><code>php bin/console doctrine:migrations:migrate</code></li>
	</ol>
	<li>pro naplnění databáze testovacími daty je nutné spustit jeden z následujících příkazů:</li>
	<ul>
		<li><code>php bin/console doctrine:fixtures:load</code> - přepíše aktuální data v db</li>
		<li><code>php bin/console doctrine:fixtures:load --append</code>  - přidá data do db (bez přepsání stávajících)</li>
	</ul>
</ul>

<h4>Specifikace instalace na server Eva</h4>
<p>
	Narozdíl od odevzdaných souborů je připojovací řetežec v databázi v souboru <code>config/packages/doctrine.yaml</code> kvůli specifikaci portu. Dále je upraveno umístění pro generování javascriptových souborů (v souboru <code>webpack.config.js</code>). Jelikož jsou tyto soubory automaticky generované musí se jim přiřadit přístupová práva. K jednotlivým stránkám se musí přistupovat přes soubor index.php jelikož server Eva neumožňuje upravit soubor <code>htaccess</code>. 
</p>


</body>
</html>
